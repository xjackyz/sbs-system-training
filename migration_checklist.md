# SBS系统迁移检查清单

## 1. 环境准备
- [ ] Python 3.8+
- [ ] CUDA 11.7+
- [ ] cuDNN 8.0+
- [ ] 显存 ≥ 24GB
- [ ] CPU ≥ 8核
- [ ] 内存 ≥ 32GB
- [ ] 存储 ≥ 100GB SSD

## 2. 代码迁移
- [ ] 克隆代码仓库
- [ ] 检查目录结构完整性
- [ ] 确认所有Python文件的权限
- [ ] 验证.gitignore配置

## 3. 依赖安装
- [ ] 创建虚拟环境
- [ ] 安装NVIDIA驱动和CUDA工具包
- [ ] 安装PyTorch和相关依赖
- [ ] 安装DALI
- [ ] 安装Weights & Biases
- [ ] 验证所有依赖版本兼容性

## 4. 配置文件
- [ ] 复制并配置.env文件
- [ ] 更新training_config.py
- [ ] 检查model_config.py
- [ ] 验证Discord Webhook配置
- [ ] 确认Wandb API密钥

## 5. 数据准备
- [ ] 创建数据目录结构
- [ ] 迁移训练数据（2008-2010）
- [ ] 迁移验证数据（2024最后一周）
- [ ] 验证数据完整性
- [ ] 检查数据权限

## 6. 模型文件
- [ ] 迁移预训练模型
- [ ] 迁移检查点文件
- [ ] 验证模型文件完整性
- [ ] 检查模型文件权限

## 7. 日志和监控
- [ ] 创建日志目录
- [ ] 配置Tensorboard
- [ ] 设置Wandb项目
- [ ] 配置Discord通知
- [ ] 验证监控指标收集

## 8. 性能优化
- [ ] 启用混合精度训练
- [ ] 配置梯度检查点
- [ ] 启用DALI数据加载
- [ ] 配置Flash Attention
- [ ] 优化内存使用

## 9. 安全性检查
- [ ] 检查文件权限
- [ ] 验证API密钥安全性
- [ ] 确认日志敏感信息过滤
- [ ] 检查网络访问控制

## 10. 启动测试
- [ ] 执行数据加载测试
- [ ] 运行单个训练epoch测试
- [ ] 验证GPU利用率
- [ ] 检查内存使用情况
- [ ] 确认日志记录正常
- [ ] 验证Discord通知
- [ ] 检查Wandb连接

## 11. 备份确认
- [ ] 源代码备份
- [ ] 配置文件备份
- [ ] 模型文件备份
- [ ] 数据备份
- [ ] 检查点备份

## 12. 文档更新
- [ ] 更新README
- [ ] 更新API文档
- [ ] 更新配置说明
- [ ] 记录环境要求
- [ ] 更新故障排除指南

## 迁移后验证
1. 执行基准测试：
   ```bash
   python scripts/benchmark.py
   ```

2. 验证训练性能：
   - GPU利用率 > 95%
   - 数据加载等待时间 < 5%
   - 训练速度 > 100样本/秒

3. 检查监控系统：
   - Tensorboard可访问
   - Wandb项目连接正常
   - Discord通知正常工作
   - 系统指标收集正常

4. 验证数据处理：
   - DALI管道正常工作
   - 数据增强正确应用
   - 批处理大小符合预期
   - 内存使用在合理范围

5. 确认优化特性：
   - 混合精度训练正常
   - 梯度检查点工作正常
   - Flash Attention已启用
   - 内存优化生效 