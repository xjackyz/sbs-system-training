# 系统架构概述

## 组件结构
SBS Trading System 由多个组件组成，每个组件负责特定的功能。以下是主要组件及其关系：

### 1. 数据收集器 (DataCollector)
- **功能**: 从 TradingView API 收集市场数据。
- **输入**: 配置参数（如 API URL、Token）。
- **输出**: 收集到的市场数据。

### 2. 分析器 (LLaVAAnalyzer)
- **功能**: 分析市场数据，提供趋势和强度信息。
- **输入**: 收集到的市场数据。
- **输出**: 分析结果（如市场趋势、信号）。

### 3. 信号生成器 (SignalGenerator)
- **功能**: 基于分析结果生成交易信号。
- **输入**: 分析结果。
- **输出**: 交易信号（如买入、卖出建议）。

### 4. 监控系统 (SystemMonitor)
- **功能**: 监控系统性能和状态。
- **输入**: 各组件的运行状态。
- **输出**: 性能指标和健康状态。

### 5. 训练管理器 (SelfSupervisedTrainer)
- **功能**: 管理模型的训练过程。
- **输入**: 训练数据、配置参数。
- **输出**: 训练模型和性能指标。

### 6. 通知系统 (DiscordNotifier)
- **功能**: 发送系统状态和交易信号的通知。
- **输入**: 通知内容。
- **输出**: 发送到 Discord 的消息。

## 数据流
1. **数据收集**: 数据收集器从 TradingView API 获取数据。
2. **数据分析**: 收集到的数据传递给分析器进行分析。
3. **信号生成**: 分析结果传递给信号生成器，生成交易信号。
4. **监控**: 监控系统实时收集各组件的性能数据。
5. **通知**: 重要事件和状态通过通知系统发送到 Discord。

## 架构图
```
[DataCollector] --> [LLaVAAnalyzer] --> [SignalGenerator]
       |                  |                  |
       v                  v                  v
   [SystemMonitor] <---- [SelfSupervisedTrainer] <---- [DiscordNotifier]
```

## 注意事项
- 确保各组件之间的接口和数据格式一致。
- 定期检查系统性能，优化数据流和处理效率。 